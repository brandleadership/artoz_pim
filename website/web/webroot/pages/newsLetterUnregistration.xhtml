<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "/microspot/dtd/xhtml1-transitional.dtd" [<!ENTITY nbsp "&#160;">]>

<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:t="http://myfaces.apache.org/tomahawk"
 	xmlns:f="http://java.sun.com/jsf/core"
   xmlns:c="http://java.sun.com/jstl/core"
   xmlns:hy="http://hybris.com/jsf">
		
	<t:div styleClass="registration">
			<h2>Abmeldung</h2><br />		
			<h:form id="registrationForm" rendered="#{!empty newsletterJSFBean.name}">
				<!-- The login part -->
				Hallo #{newsletterJSFBean.fullname}<br />
				<t:panelGrid columns="2" styleClass="registration" columnClasses="registration_firstColumn, registration_secondColumn">					
					<t:panelGroup>	
						<h:outputText value="Bitte Ihre E-Mail-Adresse eingeben*:"/>
					</t:panelGroup>
					<t:panelGroup>
						<h:inputText value="#{newsletterJSFBean.email}" id="email" required="true" styleClass="text">
							<t:validateEmail />
						</h:inputText>
						<h:message for="email" styleClass="error"/>
					</t:panelGroup>	
					<t:panelGroup/>
					<t:panelGroup>
						<div class="button">					
							<h:commandLink id="registrationButton" action="#{newsletterJSFBean.doNewsletterUnregistration}" actionListener="#{newsletterJSFBean.doNewsletterUnregistration}">
								<h:outputText value="Abmelden" />
							</h:commandLink>
						</div>
					</t:panelGroup>
				</t:panelGrid>
			</h:form>
			<c:if test="#{empty newsletterJSFBean.name}" >
				Falsch
			</c:if>
		</t:div>
</ui:composition>
