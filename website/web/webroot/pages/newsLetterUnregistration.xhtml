<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "/microspot/dtd/xhtml1-transitional.dtd" [<!ENTITY nbsp "&#160;">]>
<!-- 
 The extension "website" is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
 -->
<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:t="http://myfaces.apache.org/tomahawk"
 	xmlns:f="http://java.sun.com/jsf/core"
   xmlns:c="http://java.sun.com/jstl/core"
   xmlns:hy="http://hybris.com/jsf">
		
	<t:div styleClass="registration #{item.cssClass.code}">
		<c:choose>
		<c:when test="#{!empty newsletterJSFBean.name}">
			<h2>#{item.title}</h2><br />		
			<h:form id="registrationForm">
				<!-- The login part -->
				#{item.greeting} #{newsletterJSFBean.fullname}<br />
				<t:panelGrid columns="2" styleClass="registration" columnClasses="registration_firstColumn, registration_secondColumn">					
					<t:panelGroup>	
						<h:outputText value="#{item.insertemail}*:"/>
					</t:panelGroup>
					<t:panelGroup>
						<h:inputText value="#{newsletterJSFBean.email}" id="email" required="true" styleClass="text">
							<t:validateEmail />
						</h:inputText>
						<h:message for="email" styleClass="error"/>
					</t:panelGroup>	
					<t:panelGroup/>
					<t:panelGroup>
						<div class="button">					
							<h:commandLink id="registrationButton" action="#{newsletterJSFBean.doNewsletterUnregistration}">
								<h:outputText value="#{item.button}" />
							</h:commandLink>
						</div>
					</t:panelGroup>
				</t:panelGrid>
			</h:form>
		</c:when>
		<c:when test="#{empty newsletterJSFBean.name}">
				<h:outputText value="#{item.falsetext}" />
		</c:when>
		</c:choose>
	</t:div>
</ui:composition>
