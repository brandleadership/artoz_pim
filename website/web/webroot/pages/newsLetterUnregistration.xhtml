<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "/microspot/dtd/xhtml1-transitional.dtd" [<!ENTITY nbsp "&#160;">]>

<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:t="http://myfaces.apache.org/tomahawk"
 	xmlns:f="http://java.sun.com/jsf/core"
   xmlns:c="http://java.sun.com/jstl/core"
   xmlns:hy="http://hybris.com/jsf">
		
	<t:div styleClass="registration #{item.cssClass.code}">
		<c:choose>
		<c:when test="#{!empty newsletterJSFBean.name}">
			<h2>#{item.title}</h2><br />		
			<h:form id="registrationForm">
				<!-- The login part -->
				#{item.greeting} #{newsletterJSFBean.fullname}<br />
				<t:panelGrid columns="2" styleClass="registration" columnClasses="registration_firstColumn, registration_secondColumn">					
					<t:panelGroup>	
						<h:outputText value="#{item.insertemail}*:"/>
					</t:panelGroup>
					<t:panelGroup>
						<h:inputText value="#{newsletterJSFBean.email}" id="email" required="true" styleClass="text">
							<t:validateEmail />
						</h:inputText>
						<h:message for="email" styleClass="error"/>
					</t:panelGroup>	
					<t:panelGroup/>
					<t:panelGroup>
						<div class="button">					
							<h:commandLink id="registrationButton" action="#{newsletterJSFBean.doNewsletterUnregistration}">
								<h:outputText value="#{item.button}" />
							</h:commandLink>
						</div>
					</t:panelGroup>
				</t:panelGrid>
			</h:form>
		</c:when>
		<c:when test="#{empty newsletterJSFBean.name}">
				<h:outputText value="#{item.falsetext}" />
		</c:when>
		</c:choose>
	</t:div>
</ui:composition>
